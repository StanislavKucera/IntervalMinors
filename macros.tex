%%% This file contains definitions of various useful macros and environments %%%
%%% Please add more macros here instead of cluttering other files with them. %%%

%%% Minor tweaks of style

% These macros employ a little dirty trick to convince LaTeX to typeset
% chapter headings sanely, without lots of empty space above them.
% Feel free to ignore.
\makeatletter
\def\@makechapterhead#1{
  {\parindent \z@ \raggedright \normalfont
   \Huge\bfseries \thechapter. #1
   \par\nobreak
   \vskip 20\p@
}}
\def\@makeschapterhead#1{
  {\parindent \z@ \raggedright \normalfont
   \Huge\bfseries #1
   \par\nobreak
   \vskip 20\p@
}}
\makeatother

% This macro defines a chapter, which is not numbered, but is included
% in the table of contents.
\def\chapwithtoc#1{
\chapter*{#1}
\addcontentsline{toc}{chapter}{#1}
}

% Draw black "slugs" whenever a line overflows, so that we can spot it easily.
\overfullrule=1mm

%%% Macros for definitions, theorems, claims, examples, ... (requires amsthm package)

\theoremstyle{plain}
\newtheorem{thm}{Theorem}[chapter]
\newtheorem{lemma}[thm]{Lemma}
\newtheorem{obs}[thm]{Observation}
\newtheorem{fct}[thm]{Fact}
\newtheorem{cor}[thm]{Corollary}
\newtheorem{prop}[thm]{Proposition}

\theoremstyle{definition}
\newtheorem{defn}[thm]{Definition}
\newtheorem{ntn}[thm]{Notation}

\theoremstyle{remark}
\newtheorem{rem}[thm]{Remark}
\newtheorem{conj}[thm]{Conjecture}
\newtheorem{ques}[thm]{Question}

%%% An environment for proofs

%%% FIXME %%% \newenvironment{proof}{
%%% FIXME %%%   \par\medskip\noindent
%%% FIXME %%%   \textit{Proof}.
%%% FIXME %%% }{
%%% FIXME %%% \newline
%%% FIXME %%% \rightline{$\square$}  % or \SquareCastShadowBottomRight from bbding package
%%% FIXME %%% }

%%% An environment for typesetting of program code and input/output
%%% of programs. (Requires the fancyvrb package -- fancy verbatim.)

\DefineVerbatimEnvironment{code}{Verbatim}{fontsize=\small, frame=single}

%%% Transposition of a vector/matrix
\newcommand{\T}[1]{#1^\top}

%%% My macros
\newcommand{\bin}{\{0,1\}}

\newcommand{\Mat}{\bin^{m\times n}}
\newcommand{\Pat}{\bin^{k\times l}}

\newcommand{\smm}[1]{\left(\begin{smallmatrix}#1\end{smallmatrix}\right)}

\newcommand{\im}{\preceq}
\newcommand{\nim}{\not\preceq}
\newcommand{\PimM}{P\im M}
\newcommand{\PnimM}{P\nim M}
\newcommand{\PsmM}{P\leq M}
\newcommand{\PnsmM}{P\not\leq M}

\newcommand{\Av}[1]{Av\left(#1\right)}
\newcommand{\Avm}[1]{Av_{\im}\left(#1\right)}
\newcommand{\Avmax}[1]{Av_{max}\left(#1\right)}

\newcommand{\Cl}[1]{Cl\left(#1\right)}
\newcommand{\class}[1]{\mathcal{#1}}
\newcommand{\R}[1]{\mathcal{R}\left(#1\right)}

\newcommand{\hsum}{\rightarrow}
\newcommand{\dsum}{\nearrow}
\newcommand{\odsum}{\searrow}

\newcommand{\rc}[1]{r\left(#1\right)}
\newcommand{\cc}[1]{c\left(#1\right)}
\newcommand{\rce}[2]{r\left(#1,#2\right)}
\newcommand{\cce}[2]{c\left(#1,#2\right)}